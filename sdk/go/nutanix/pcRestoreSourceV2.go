// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package nutanix

import (
	"context"
	"reflect"

	"errors"
	"github.com/pierskarsenbarg/pulumi-nutanix/sdk/go/nutanix/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// > The restore source is auto-deleted after sometime, PcRestoreSourceV2 resource is auto-create new restore source if it was deleted, so notice that the id of the restore source resource will be different after recreation. and for update restore source, it will create a new restore source with the new configuration
//
// Create a restore source pointing to a cluster or object store to restore the domain manager. The created restore source is intended to be deleted after use. If the restore source is not deleted using the deleteRestoreSource API, then it is auto-deleted after sometime. Also note that a restore source will not contain a backup policy. It is only used to access the backup data at the location from where the Prism Central may be restored. Credentials used to access the restore source are not validated at the time of creation of the restore source. They are validated when the restore source is used to fetch data.
//
// ## Example Usage
//
// ### Cluster Location
//
// ```go
// package main
//
// import (
//
//	"github.com/pierskarsenbarg/pulumi-nutanix/sdk/go/nutanix"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// defining nutanix configuration for PE
//			_, err := nutanix.NewProvider(ctx, "pe", &nutanix.ProviderArgs{
//				Username: pulumi.Any(_var.Nutanix_pe_username),
//				Password: pulumi.Any(_var.Nutanix_pe_password),
//				Endpoint: pulumi.Any(_var.Nutanix_pe_endpoint),
//				Insecure: pulumi.Bool(true),
//				Port:     pulumi.String("9440"),
//			})
//			if err != nil {
//				return err
//			}
//			// restore source is auto-deleted after sometime, nutanix_pc_restore_source_v2 resource is auto-create
//			// new restore source if it was deleted, so notice that the id of the restore source will be different
//			// after recreation
//			_, err = nutanix.NewPcRestoreSourceV2(ctx, "cluster-location", &nutanix.PcRestoreSourceV2Args{
//				Location: &nutanix.PcRestoreSourceV2LocationArgs{
//					ClusterLocations: nutanix.PcRestoreSourceV2LocationClusterLocationArray{
//						&nutanix.PcRestoreSourceV2LocationClusterLocationArgs{
//							Configs: nutanix.PcRestoreSourceV2LocationClusterLocationConfigArray{
//								&nutanix.PcRestoreSourceV2LocationClusterLocationConfigArgs{
//									ExtId: pulumi.String("323860ca-bd10-411e-9fe0-1430b62eaf45"),
//								},
//							},
//						},
//					},
//				},
//			}, pulumi.Provider(nutanix.Pe))
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ### Object Store Location
//
// ```go
// package main
//
// import (
//
//	"github.com/pierskarsenbarg/pulumi-nutanix/sdk/go/nutanix"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// using object store location
//			_, err := nutanix.NewPcRestoreSourceV2(ctx, "object-store-location", &nutanix.PcRestoreSourceV2Args{
//				Location: &nutanix.PcRestoreSourceV2LocationArgs{
//					ObjectStoreLocations: nutanix.PcRestoreSourceV2LocationObjectStoreLocationArray{
//						&nutanix.PcRestoreSourceV2LocationObjectStoreLocationArgs{
//							ProviderConfigs: nutanix.PcRestoreSourceV2LocationObjectStoreLocationProviderConfigArray{
//								&nutanix.PcRestoreSourceV2LocationObjectStoreLocationProviderConfigArgs{
//									BucketName: pulumi.String("nutanix-terraform-bucket"),
//									Region:     pulumi.String("us-west-1"),
//									Credentials: &nutanix.PcRestoreSourceV2LocationObjectStoreLocationProviderConfigCredentialsArgs{
//										AccessKeyId:     pulumi.String("IHSAJHDHADFWYTKJHFGCJKHASGJHKDSA"),
//										SecretAccessKey: pulumi.String("JGSDHJYHGFHGHDS+JKBASDF/HSDAFHJ+SjkfbdsASDfdJFdSDFJfk"),
//									},
//								},
//							},
//							BackupPolicies: nutanix.PcRestoreSourceV2LocationObjectStoreLocationBackupPolicyArray{
//								&nutanix.PcRestoreSourceV2LocationObjectStoreLocationBackupPolicyArgs{
//									RpoInMinutes: pulumi.Int(120),
//								},
//							},
//						},
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type PcRestoreSourceV2 struct {
	pulumi.CustomResourceState

	BackupPauseReason pulumi.StringOutput              `pulumi:"backupPauseReason"`
	ExtId             pulumi.StringOutput              `pulumi:"extId"`
	IsBackupPaused    pulumi.BoolOutput                `pulumi:"isBackupPaused"`
	LastSyncTime      pulumi.StringOutput              `pulumi:"lastSyncTime"`
	Links             PcRestoreSourceV2LinkArrayOutput `pulumi:"links"`
	// -(Required) Location of the backup target. For example, a cluster or an object store endpoint, such as AWS s3.
	Location PcRestoreSourceV2LocationOutput `pulumi:"location"`
	TenantId pulumi.StringOutput             `pulumi:"tenantId"`
}

// NewPcRestoreSourceV2 registers a new resource with the given unique name, arguments, and options.
func NewPcRestoreSourceV2(ctx *pulumi.Context,
	name string, args *PcRestoreSourceV2Args, opts ...pulumi.ResourceOption) (*PcRestoreSourceV2, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Location == nil {
		return nil, errors.New("invalid value for required argument 'Location'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource PcRestoreSourceV2
	err := ctx.RegisterResource("nutanix:index/pcRestoreSourceV2:PcRestoreSourceV2", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetPcRestoreSourceV2 gets an existing PcRestoreSourceV2 resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetPcRestoreSourceV2(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *PcRestoreSourceV2State, opts ...pulumi.ResourceOption) (*PcRestoreSourceV2, error) {
	var resource PcRestoreSourceV2
	err := ctx.ReadResource("nutanix:index/pcRestoreSourceV2:PcRestoreSourceV2", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering PcRestoreSourceV2 resources.
type pcRestoreSourceV2State struct {
	BackupPauseReason *string                 `pulumi:"backupPauseReason"`
	ExtId             *string                 `pulumi:"extId"`
	IsBackupPaused    *bool                   `pulumi:"isBackupPaused"`
	LastSyncTime      *string                 `pulumi:"lastSyncTime"`
	Links             []PcRestoreSourceV2Link `pulumi:"links"`
	// -(Required) Location of the backup target. For example, a cluster or an object store endpoint, such as AWS s3.
	Location *PcRestoreSourceV2Location `pulumi:"location"`
	TenantId *string                    `pulumi:"tenantId"`
}

type PcRestoreSourceV2State struct {
	BackupPauseReason pulumi.StringPtrInput
	ExtId             pulumi.StringPtrInput
	IsBackupPaused    pulumi.BoolPtrInput
	LastSyncTime      pulumi.StringPtrInput
	Links             PcRestoreSourceV2LinkArrayInput
	// -(Required) Location of the backup target. For example, a cluster or an object store endpoint, such as AWS s3.
	Location PcRestoreSourceV2LocationPtrInput
	TenantId pulumi.StringPtrInput
}

func (PcRestoreSourceV2State) ElementType() reflect.Type {
	return reflect.TypeOf((*pcRestoreSourceV2State)(nil)).Elem()
}

type pcRestoreSourceV2Args struct {
	// -(Required) Location of the backup target. For example, a cluster or an object store endpoint, such as AWS s3.
	Location PcRestoreSourceV2Location `pulumi:"location"`
}

// The set of arguments for constructing a PcRestoreSourceV2 resource.
type PcRestoreSourceV2Args struct {
	// -(Required) Location of the backup target. For example, a cluster or an object store endpoint, such as AWS s3.
	Location PcRestoreSourceV2LocationInput
}

func (PcRestoreSourceV2Args) ElementType() reflect.Type {
	return reflect.TypeOf((*pcRestoreSourceV2Args)(nil)).Elem()
}

type PcRestoreSourceV2Input interface {
	pulumi.Input

	ToPcRestoreSourceV2Output() PcRestoreSourceV2Output
	ToPcRestoreSourceV2OutputWithContext(ctx context.Context) PcRestoreSourceV2Output
}

func (*PcRestoreSourceV2) ElementType() reflect.Type {
	return reflect.TypeOf((**PcRestoreSourceV2)(nil)).Elem()
}

func (i *PcRestoreSourceV2) ToPcRestoreSourceV2Output() PcRestoreSourceV2Output {
	return i.ToPcRestoreSourceV2OutputWithContext(context.Background())
}

func (i *PcRestoreSourceV2) ToPcRestoreSourceV2OutputWithContext(ctx context.Context) PcRestoreSourceV2Output {
	return pulumi.ToOutputWithContext(ctx, i).(PcRestoreSourceV2Output)
}

// PcRestoreSourceV2ArrayInput is an input type that accepts PcRestoreSourceV2Array and PcRestoreSourceV2ArrayOutput values.
// You can construct a concrete instance of `PcRestoreSourceV2ArrayInput` via:
//
//	PcRestoreSourceV2Array{ PcRestoreSourceV2Args{...} }
type PcRestoreSourceV2ArrayInput interface {
	pulumi.Input

	ToPcRestoreSourceV2ArrayOutput() PcRestoreSourceV2ArrayOutput
	ToPcRestoreSourceV2ArrayOutputWithContext(context.Context) PcRestoreSourceV2ArrayOutput
}

type PcRestoreSourceV2Array []PcRestoreSourceV2Input

func (PcRestoreSourceV2Array) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*PcRestoreSourceV2)(nil)).Elem()
}

func (i PcRestoreSourceV2Array) ToPcRestoreSourceV2ArrayOutput() PcRestoreSourceV2ArrayOutput {
	return i.ToPcRestoreSourceV2ArrayOutputWithContext(context.Background())
}

func (i PcRestoreSourceV2Array) ToPcRestoreSourceV2ArrayOutputWithContext(ctx context.Context) PcRestoreSourceV2ArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PcRestoreSourceV2ArrayOutput)
}

// PcRestoreSourceV2MapInput is an input type that accepts PcRestoreSourceV2Map and PcRestoreSourceV2MapOutput values.
// You can construct a concrete instance of `PcRestoreSourceV2MapInput` via:
//
//	PcRestoreSourceV2Map{ "key": PcRestoreSourceV2Args{...} }
type PcRestoreSourceV2MapInput interface {
	pulumi.Input

	ToPcRestoreSourceV2MapOutput() PcRestoreSourceV2MapOutput
	ToPcRestoreSourceV2MapOutputWithContext(context.Context) PcRestoreSourceV2MapOutput
}

type PcRestoreSourceV2Map map[string]PcRestoreSourceV2Input

func (PcRestoreSourceV2Map) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*PcRestoreSourceV2)(nil)).Elem()
}

func (i PcRestoreSourceV2Map) ToPcRestoreSourceV2MapOutput() PcRestoreSourceV2MapOutput {
	return i.ToPcRestoreSourceV2MapOutputWithContext(context.Background())
}

func (i PcRestoreSourceV2Map) ToPcRestoreSourceV2MapOutputWithContext(ctx context.Context) PcRestoreSourceV2MapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PcRestoreSourceV2MapOutput)
}

type PcRestoreSourceV2Output struct{ *pulumi.OutputState }

func (PcRestoreSourceV2Output) ElementType() reflect.Type {
	return reflect.TypeOf((**PcRestoreSourceV2)(nil)).Elem()
}

func (o PcRestoreSourceV2Output) ToPcRestoreSourceV2Output() PcRestoreSourceV2Output {
	return o
}

func (o PcRestoreSourceV2Output) ToPcRestoreSourceV2OutputWithContext(ctx context.Context) PcRestoreSourceV2Output {
	return o
}

func (o PcRestoreSourceV2Output) BackupPauseReason() pulumi.StringOutput {
	return o.ApplyT(func(v *PcRestoreSourceV2) pulumi.StringOutput { return v.BackupPauseReason }).(pulumi.StringOutput)
}

func (o PcRestoreSourceV2Output) ExtId() pulumi.StringOutput {
	return o.ApplyT(func(v *PcRestoreSourceV2) pulumi.StringOutput { return v.ExtId }).(pulumi.StringOutput)
}

func (o PcRestoreSourceV2Output) IsBackupPaused() pulumi.BoolOutput {
	return o.ApplyT(func(v *PcRestoreSourceV2) pulumi.BoolOutput { return v.IsBackupPaused }).(pulumi.BoolOutput)
}

func (o PcRestoreSourceV2Output) LastSyncTime() pulumi.StringOutput {
	return o.ApplyT(func(v *PcRestoreSourceV2) pulumi.StringOutput { return v.LastSyncTime }).(pulumi.StringOutput)
}

func (o PcRestoreSourceV2Output) Links() PcRestoreSourceV2LinkArrayOutput {
	return o.ApplyT(func(v *PcRestoreSourceV2) PcRestoreSourceV2LinkArrayOutput { return v.Links }).(PcRestoreSourceV2LinkArrayOutput)
}

// -(Required) Location of the backup target. For example, a cluster or an object store endpoint, such as AWS s3.
func (o PcRestoreSourceV2Output) Location() PcRestoreSourceV2LocationOutput {
	return o.ApplyT(func(v *PcRestoreSourceV2) PcRestoreSourceV2LocationOutput { return v.Location }).(PcRestoreSourceV2LocationOutput)
}

func (o PcRestoreSourceV2Output) TenantId() pulumi.StringOutput {
	return o.ApplyT(func(v *PcRestoreSourceV2) pulumi.StringOutput { return v.TenantId }).(pulumi.StringOutput)
}

type PcRestoreSourceV2ArrayOutput struct{ *pulumi.OutputState }

func (PcRestoreSourceV2ArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*PcRestoreSourceV2)(nil)).Elem()
}

func (o PcRestoreSourceV2ArrayOutput) ToPcRestoreSourceV2ArrayOutput() PcRestoreSourceV2ArrayOutput {
	return o
}

func (o PcRestoreSourceV2ArrayOutput) ToPcRestoreSourceV2ArrayOutputWithContext(ctx context.Context) PcRestoreSourceV2ArrayOutput {
	return o
}

func (o PcRestoreSourceV2ArrayOutput) Index(i pulumi.IntInput) PcRestoreSourceV2Output {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *PcRestoreSourceV2 {
		return vs[0].([]*PcRestoreSourceV2)[vs[1].(int)]
	}).(PcRestoreSourceV2Output)
}

type PcRestoreSourceV2MapOutput struct{ *pulumi.OutputState }

func (PcRestoreSourceV2MapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*PcRestoreSourceV2)(nil)).Elem()
}

func (o PcRestoreSourceV2MapOutput) ToPcRestoreSourceV2MapOutput() PcRestoreSourceV2MapOutput {
	return o
}

func (o PcRestoreSourceV2MapOutput) ToPcRestoreSourceV2MapOutputWithContext(ctx context.Context) PcRestoreSourceV2MapOutput {
	return o
}

func (o PcRestoreSourceV2MapOutput) MapIndex(k pulumi.StringInput) PcRestoreSourceV2Output {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *PcRestoreSourceV2 {
		return vs[0].(map[string]*PcRestoreSourceV2)[vs[1].(string)]
	}).(PcRestoreSourceV2Output)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*PcRestoreSourceV2Input)(nil)).Elem(), &PcRestoreSourceV2{})
	pulumi.RegisterInputType(reflect.TypeOf((*PcRestoreSourceV2ArrayInput)(nil)).Elem(), PcRestoreSourceV2Array{})
	pulumi.RegisterInputType(reflect.TypeOf((*PcRestoreSourceV2MapInput)(nil)).Elem(), PcRestoreSourceV2Map{})
	pulumi.RegisterOutputType(PcRestoreSourceV2Output{})
	pulumi.RegisterOutputType(PcRestoreSourceV2ArrayOutput{})
	pulumi.RegisterOutputType(PcRestoreSourceV2MapOutput{})
}
