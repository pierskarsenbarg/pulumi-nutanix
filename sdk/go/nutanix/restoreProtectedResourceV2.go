// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package nutanix

import (
	"context"
	"reflect"

	"errors"
	"github.com/pierskarsenbarg/pulumi-nutanix/sdk/go/nutanix/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Restore the specified protected resource from its state at the given timestamp on the given cluster. This is only relevant if the entity is protected in a minutely schedule at the given timestamp.
//
// ## Example 1: Restore Virtual Machine
//
// ```go
// package main
//
// import (
//
//	"github.com/pierskarsenbarg/pulumi-nutanix/sdk/go/nutanix"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// Restore a protected virtual machine on remote site
//			// This example demonstrates how to restore a protected virtual machine on remote site.
//			// steps:
//			// 1. Define the provider for the remote site
//			// 2. Create a category and a protection policy, on the local site
//			// 3. Create a virtual machine and associate it with the protection policy, on local site
//			// 4. Restore the virtual machine on the remote site
//			// define another alias for the provider, this time for the remote PC
//			_, err := nutanix.NewProvider(ctx, "remote", &nutanix.ProviderArgs{
//				Username: pulumi.Any(_var.Nutanix_remote_username),
//				Password: pulumi.Any(_var.Nutanix_remote_password),
//				Endpoint: pulumi.Any(_var.Nutanix_remote_endpoint),
//				Insecure: pulumi.Bool(true),
//				Port:     pulumi.String("9440"),
//			})
//			if err != nil {
//				return err
//			}
//			// restore the protected virtual machine on the remote site
//			_, err = nutanix.NewRestoreProtectedResourceV2(ctx, "rp-vm", &nutanix.RestoreProtectedResourceV2Args{
//				ExtId:        pulumi.String("d22529bb-f02d-4710-894b-d1de772d7832"),
//				ClusterExtId: pulumi.String("0005b6b1-1b16-4983-b5ff-204840f85e07"),
//			}, pulumi.Provider(nutanix.Remote))
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Example 2: Restore Volume Group
//
// ```go
// package main
//
// import (
//
//	"github.com/pierskarsenbarg/pulumi-nutanix/sdk/go/nutanix"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// Restore a protected volume group on remote site
//			// This example demonstrates how to restore a protected volume group on remote site.
//			// steps:
//			// 1. Define the provider for the remote site
//			// 2. Create a category and a protection policy, on the local site
//			// 3. Create a volume group and associate it with the category on the local site
//			// 4. Restore the volume group on the remote site
//			// define another alias for the provider, this time for the remote PC
//			_, err := nutanix.NewProvider(ctx, "remote", &nutanix.ProviderArgs{
//				Username: pulumi.Any(_var.Nutanix_remote_username),
//				Password: pulumi.Any(_var.Nutanix_remote_password),
//				Endpoint: pulumi.Any(_var.Nutanix_remote_endpoint),
//				Insecure: pulumi.Bool(true),
//				Port:     pulumi.String("9440"),
//			})
//			if err != nil {
//				return err
//			}
//			// restore the protected volume group on the remote site
//			_, err = nutanix.NewRestoreProtectedResourceV2(ctx, "rp-vg", &nutanix.RestoreProtectedResourceV2Args{
//				ExtId:        pulumi.String("246c651a-1b16-4983-b5ff-204840f85e07"),
//				ClusterExtId: pulumi.String("0005b6b1-1b16-4983-b5ff-204840f85e07"),
//			}, pulumi.Provider(nutanix.Remote))
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type RestoreProtectedResourceV2 struct {
	pulumi.CustomResourceState

	// -(Required) The external identifier of the cluster on which the entity has valid restorable time ranges. The restored entity will be created on the same cluster.
	ClusterExtId pulumi.StringOutput `pulumi:"clusterExtId"`
	// -(Required) The external identifier of a protected VM or volume group that can be used to retrieve the protected resource.
	ExtId pulumi.StringOutput `pulumi:"extId"`
	// -(Optional) UTC date and time in ISO 8601 format representing the time from when the state of the entity should be restored. This needs to be a valid time within the restorable time range(s) for the protected resource.
	//
	// See detailed information in [Nutanix Restore Protected Resource v4](https://developers.nutanix.com/api-reference?namespace=dataprotection&version=v4.0#tag/ProtectedResources/operation/restoreProtectedResourcen).
	RestoreTime pulumi.StringPtrOutput `pulumi:"restoreTime"`
}

// NewRestoreProtectedResourceV2 registers a new resource with the given unique name, arguments, and options.
func NewRestoreProtectedResourceV2(ctx *pulumi.Context,
	name string, args *RestoreProtectedResourceV2Args, opts ...pulumi.ResourceOption) (*RestoreProtectedResourceV2, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ClusterExtId == nil {
		return nil, errors.New("invalid value for required argument 'ClusterExtId'")
	}
	if args.ExtId == nil {
		return nil, errors.New("invalid value for required argument 'ExtId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource RestoreProtectedResourceV2
	err := ctx.RegisterResource("nutanix:index/restoreProtectedResourceV2:RestoreProtectedResourceV2", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetRestoreProtectedResourceV2 gets an existing RestoreProtectedResourceV2 resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetRestoreProtectedResourceV2(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *RestoreProtectedResourceV2State, opts ...pulumi.ResourceOption) (*RestoreProtectedResourceV2, error) {
	var resource RestoreProtectedResourceV2
	err := ctx.ReadResource("nutanix:index/restoreProtectedResourceV2:RestoreProtectedResourceV2", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering RestoreProtectedResourceV2 resources.
type restoreProtectedResourceV2State struct {
	// -(Required) The external identifier of the cluster on which the entity has valid restorable time ranges. The restored entity will be created on the same cluster.
	ClusterExtId *string `pulumi:"clusterExtId"`
	// -(Required) The external identifier of a protected VM or volume group that can be used to retrieve the protected resource.
	ExtId *string `pulumi:"extId"`
	// -(Optional) UTC date and time in ISO 8601 format representing the time from when the state of the entity should be restored. This needs to be a valid time within the restorable time range(s) for the protected resource.
	//
	// See detailed information in [Nutanix Restore Protected Resource v4](https://developers.nutanix.com/api-reference?namespace=dataprotection&version=v4.0#tag/ProtectedResources/operation/restoreProtectedResourcen).
	RestoreTime *string `pulumi:"restoreTime"`
}

type RestoreProtectedResourceV2State struct {
	// -(Required) The external identifier of the cluster on which the entity has valid restorable time ranges. The restored entity will be created on the same cluster.
	ClusterExtId pulumi.StringPtrInput
	// -(Required) The external identifier of a protected VM or volume group that can be used to retrieve the protected resource.
	ExtId pulumi.StringPtrInput
	// -(Optional) UTC date and time in ISO 8601 format representing the time from when the state of the entity should be restored. This needs to be a valid time within the restorable time range(s) for the protected resource.
	//
	// See detailed information in [Nutanix Restore Protected Resource v4](https://developers.nutanix.com/api-reference?namespace=dataprotection&version=v4.0#tag/ProtectedResources/operation/restoreProtectedResourcen).
	RestoreTime pulumi.StringPtrInput
}

func (RestoreProtectedResourceV2State) ElementType() reflect.Type {
	return reflect.TypeOf((*restoreProtectedResourceV2State)(nil)).Elem()
}

type restoreProtectedResourceV2Args struct {
	// -(Required) The external identifier of the cluster on which the entity has valid restorable time ranges. The restored entity will be created on the same cluster.
	ClusterExtId string `pulumi:"clusterExtId"`
	// -(Required) The external identifier of a protected VM or volume group that can be used to retrieve the protected resource.
	ExtId string `pulumi:"extId"`
	// -(Optional) UTC date and time in ISO 8601 format representing the time from when the state of the entity should be restored. This needs to be a valid time within the restorable time range(s) for the protected resource.
	//
	// See detailed information in [Nutanix Restore Protected Resource v4](https://developers.nutanix.com/api-reference?namespace=dataprotection&version=v4.0#tag/ProtectedResources/operation/restoreProtectedResourcen).
	RestoreTime *string `pulumi:"restoreTime"`
}

// The set of arguments for constructing a RestoreProtectedResourceV2 resource.
type RestoreProtectedResourceV2Args struct {
	// -(Required) The external identifier of the cluster on which the entity has valid restorable time ranges. The restored entity will be created on the same cluster.
	ClusterExtId pulumi.StringInput
	// -(Required) The external identifier of a protected VM or volume group that can be used to retrieve the protected resource.
	ExtId pulumi.StringInput
	// -(Optional) UTC date and time in ISO 8601 format representing the time from when the state of the entity should be restored. This needs to be a valid time within the restorable time range(s) for the protected resource.
	//
	// See detailed information in [Nutanix Restore Protected Resource v4](https://developers.nutanix.com/api-reference?namespace=dataprotection&version=v4.0#tag/ProtectedResources/operation/restoreProtectedResourcen).
	RestoreTime pulumi.StringPtrInput
}

func (RestoreProtectedResourceV2Args) ElementType() reflect.Type {
	return reflect.TypeOf((*restoreProtectedResourceV2Args)(nil)).Elem()
}

type RestoreProtectedResourceV2Input interface {
	pulumi.Input

	ToRestoreProtectedResourceV2Output() RestoreProtectedResourceV2Output
	ToRestoreProtectedResourceV2OutputWithContext(ctx context.Context) RestoreProtectedResourceV2Output
}

func (*RestoreProtectedResourceV2) ElementType() reflect.Type {
	return reflect.TypeOf((**RestoreProtectedResourceV2)(nil)).Elem()
}

func (i *RestoreProtectedResourceV2) ToRestoreProtectedResourceV2Output() RestoreProtectedResourceV2Output {
	return i.ToRestoreProtectedResourceV2OutputWithContext(context.Background())
}

func (i *RestoreProtectedResourceV2) ToRestoreProtectedResourceV2OutputWithContext(ctx context.Context) RestoreProtectedResourceV2Output {
	return pulumi.ToOutputWithContext(ctx, i).(RestoreProtectedResourceV2Output)
}

// RestoreProtectedResourceV2ArrayInput is an input type that accepts RestoreProtectedResourceV2Array and RestoreProtectedResourceV2ArrayOutput values.
// You can construct a concrete instance of `RestoreProtectedResourceV2ArrayInput` via:
//
//	RestoreProtectedResourceV2Array{ RestoreProtectedResourceV2Args{...} }
type RestoreProtectedResourceV2ArrayInput interface {
	pulumi.Input

	ToRestoreProtectedResourceV2ArrayOutput() RestoreProtectedResourceV2ArrayOutput
	ToRestoreProtectedResourceV2ArrayOutputWithContext(context.Context) RestoreProtectedResourceV2ArrayOutput
}

type RestoreProtectedResourceV2Array []RestoreProtectedResourceV2Input

func (RestoreProtectedResourceV2Array) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*RestoreProtectedResourceV2)(nil)).Elem()
}

func (i RestoreProtectedResourceV2Array) ToRestoreProtectedResourceV2ArrayOutput() RestoreProtectedResourceV2ArrayOutput {
	return i.ToRestoreProtectedResourceV2ArrayOutputWithContext(context.Background())
}

func (i RestoreProtectedResourceV2Array) ToRestoreProtectedResourceV2ArrayOutputWithContext(ctx context.Context) RestoreProtectedResourceV2ArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(RestoreProtectedResourceV2ArrayOutput)
}

// RestoreProtectedResourceV2MapInput is an input type that accepts RestoreProtectedResourceV2Map and RestoreProtectedResourceV2MapOutput values.
// You can construct a concrete instance of `RestoreProtectedResourceV2MapInput` via:
//
//	RestoreProtectedResourceV2Map{ "key": RestoreProtectedResourceV2Args{...} }
type RestoreProtectedResourceV2MapInput interface {
	pulumi.Input

	ToRestoreProtectedResourceV2MapOutput() RestoreProtectedResourceV2MapOutput
	ToRestoreProtectedResourceV2MapOutputWithContext(context.Context) RestoreProtectedResourceV2MapOutput
}

type RestoreProtectedResourceV2Map map[string]RestoreProtectedResourceV2Input

func (RestoreProtectedResourceV2Map) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*RestoreProtectedResourceV2)(nil)).Elem()
}

func (i RestoreProtectedResourceV2Map) ToRestoreProtectedResourceV2MapOutput() RestoreProtectedResourceV2MapOutput {
	return i.ToRestoreProtectedResourceV2MapOutputWithContext(context.Background())
}

func (i RestoreProtectedResourceV2Map) ToRestoreProtectedResourceV2MapOutputWithContext(ctx context.Context) RestoreProtectedResourceV2MapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(RestoreProtectedResourceV2MapOutput)
}

type RestoreProtectedResourceV2Output struct{ *pulumi.OutputState }

func (RestoreProtectedResourceV2Output) ElementType() reflect.Type {
	return reflect.TypeOf((**RestoreProtectedResourceV2)(nil)).Elem()
}

func (o RestoreProtectedResourceV2Output) ToRestoreProtectedResourceV2Output() RestoreProtectedResourceV2Output {
	return o
}

func (o RestoreProtectedResourceV2Output) ToRestoreProtectedResourceV2OutputWithContext(ctx context.Context) RestoreProtectedResourceV2Output {
	return o
}

// -(Required) The external identifier of the cluster on which the entity has valid restorable time ranges. The restored entity will be created on the same cluster.
func (o RestoreProtectedResourceV2Output) ClusterExtId() pulumi.StringOutput {
	return o.ApplyT(func(v *RestoreProtectedResourceV2) pulumi.StringOutput { return v.ClusterExtId }).(pulumi.StringOutput)
}

// -(Required) The external identifier of a protected VM or volume group that can be used to retrieve the protected resource.
func (o RestoreProtectedResourceV2Output) ExtId() pulumi.StringOutput {
	return o.ApplyT(func(v *RestoreProtectedResourceV2) pulumi.StringOutput { return v.ExtId }).(pulumi.StringOutput)
}

// -(Optional) UTC date and time in ISO 8601 format representing the time from when the state of the entity should be restored. This needs to be a valid time within the restorable time range(s) for the protected resource.
//
// See detailed information in [Nutanix Restore Protected Resource v4](https://developers.nutanix.com/api-reference?namespace=dataprotection&version=v4.0#tag/ProtectedResources/operation/restoreProtectedResourcen).
func (o RestoreProtectedResourceV2Output) RestoreTime() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *RestoreProtectedResourceV2) pulumi.StringPtrOutput { return v.RestoreTime }).(pulumi.StringPtrOutput)
}

type RestoreProtectedResourceV2ArrayOutput struct{ *pulumi.OutputState }

func (RestoreProtectedResourceV2ArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*RestoreProtectedResourceV2)(nil)).Elem()
}

func (o RestoreProtectedResourceV2ArrayOutput) ToRestoreProtectedResourceV2ArrayOutput() RestoreProtectedResourceV2ArrayOutput {
	return o
}

func (o RestoreProtectedResourceV2ArrayOutput) ToRestoreProtectedResourceV2ArrayOutputWithContext(ctx context.Context) RestoreProtectedResourceV2ArrayOutput {
	return o
}

func (o RestoreProtectedResourceV2ArrayOutput) Index(i pulumi.IntInput) RestoreProtectedResourceV2Output {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *RestoreProtectedResourceV2 {
		return vs[0].([]*RestoreProtectedResourceV2)[vs[1].(int)]
	}).(RestoreProtectedResourceV2Output)
}

type RestoreProtectedResourceV2MapOutput struct{ *pulumi.OutputState }

func (RestoreProtectedResourceV2MapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*RestoreProtectedResourceV2)(nil)).Elem()
}

func (o RestoreProtectedResourceV2MapOutput) ToRestoreProtectedResourceV2MapOutput() RestoreProtectedResourceV2MapOutput {
	return o
}

func (o RestoreProtectedResourceV2MapOutput) ToRestoreProtectedResourceV2MapOutputWithContext(ctx context.Context) RestoreProtectedResourceV2MapOutput {
	return o
}

func (o RestoreProtectedResourceV2MapOutput) MapIndex(k pulumi.StringInput) RestoreProtectedResourceV2Output {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *RestoreProtectedResourceV2 {
		return vs[0].(map[string]*RestoreProtectedResourceV2)[vs[1].(string)]
	}).(RestoreProtectedResourceV2Output)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*RestoreProtectedResourceV2Input)(nil)).Elem(), &RestoreProtectedResourceV2{})
	pulumi.RegisterInputType(reflect.TypeOf((*RestoreProtectedResourceV2ArrayInput)(nil)).Elem(), RestoreProtectedResourceV2Array{})
	pulumi.RegisterInputType(reflect.TypeOf((*RestoreProtectedResourceV2MapInput)(nil)).Elem(), RestoreProtectedResourceV2Map{})
	pulumi.RegisterOutputType(RestoreProtectedResourceV2Output{})
	pulumi.RegisterOutputType(RestoreProtectedResourceV2ArrayOutput{})
	pulumi.RegisterOutputType(RestoreProtectedResourceV2MapOutput{})
}
