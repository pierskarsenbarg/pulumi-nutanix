// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package nutanix

import (
	"context"
	"reflect"

	"github.com/pierskarsenbarg/pulumi-nutanix/sdk/go/nutanix/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Get the details of the specified protected resource such as the restorable time ranges available on the local Prism Central and the state of replication to the targets specified in the applied protection policies. This applies only if the entity is protected in a minutely or synchronous schedule. Other protection schedules are not served by this endpoint yet, and are considered not protected.
//
// ## Example 1: Get Protected Virtual Machine
//
// ```go
// package main
//
// import (
//
//	"github.com/pierskarsenbarg/pulumi-nutanix/sdk/go/nutanix"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := nutanix.GetProtectedResourceV2(ctx, &nutanix.GetProtectedResourceV2Args{
//				ExtId: "d22529bb-f02d-4710-894b-d1de772d7832",
//			}, nil)
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Example 2: Get Protected Volume Group
//
// ```go
// package main
//
// import (
//
//	"github.com/pierskarsenbarg/pulumi-nutanix/sdk/go/nutanix"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := nutanix.GetProtectedResourceV2(ctx, &nutanix.GetProtectedResourceV2Args{
//				ExtId: "246c651a-1b16-4983-b5ff-204840f85e07",
//			}, nil)
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
func GetProtectedResourceV2(ctx *pulumi.Context, args *GetProtectedResourceV2Args, opts ...pulumi.InvokeOption) (*GetProtectedResourceV2Result, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv GetProtectedResourceV2Result
	err := ctx.Invoke("nutanix:index/getProtectedResourceV2:getProtectedResourceV2", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getProtectedResourceV2.
type GetProtectedResourceV2Args struct {
	// -(Required) The external identifier of a protected VM or volume group that can be used to retrieve the protected resource.
	ExtId string `pulumi:"extId"`
}

// A collection of values returned by getProtectedResourceV2.
type GetProtectedResourceV2Result struct {
	// Category key-value pairs associated with the protected resource at the time of protection. The category key and value are separated by '/'. For example, a category with key 'dept' and value 'hr' will be represented as 'dept/hr'.
	CategoryFqNames []string `pulumi:"categoryFqNames"`
	// External identifier of the Consistency group which the protected resource is part of.
	ConsistencyGroupExtId string `pulumi:"consistencyGroupExtId"`
	// The external identifier of the VM or the volume group associated with the protected resource.
	EntityExtId string `pulumi:"entityExtId"`
	// Protected resource entity type. Possible values are: VM, VOLUME_GROUP.
	EntityType string `pulumi:"entityType"`
	// - The external identifier of a protected VM or volume group that can be used to retrieve the protected resource.
	ExtId string `pulumi:"extId"`
	// The provider-assigned unique ID for this managed resource.
	Id string `pulumi:"id"`
	// A HATEOAS style link for the response. Each link contains a user-friendly name identifying the link and an address for retrieving the particular resource.
	Links []GetProtectedResourceV2Link `pulumi:"links"`
	// Replication related information about the protected resource.
	ReplicationStates []GetProtectedResourceV2ReplicationState `pulumi:"replicationStates"`
	// The data protection details for the protected resource that are relevant to any of the sites in the local Prism Central, like the time ranges available for recovery.
	SiteProtectionInfos []GetProtectedResourceV2SiteProtectionInfo `pulumi:"siteProtectionInfos"`
	// Details about the data protection site in the Prism Central.
	SourceSiteReferences []GetProtectedResourceV2SourceSiteReference `pulumi:"sourceSiteReferences"`
	// A globally unique identifier that represents the tenant that owns this entity. The system automatically assigns it, and it and is immutable from an API consumer perspective (some use cases may cause this Id to change - For instance, a use case may require the transfer of ownership of the entity, but these cases are handled automatically on the server).
	TenantId string `pulumi:"tenantId"`
}

func GetProtectedResourceV2Output(ctx *pulumi.Context, args GetProtectedResourceV2OutputArgs, opts ...pulumi.InvokeOption) GetProtectedResourceV2ResultOutput {
	return pulumi.ToOutputWithContext(ctx.Context(), args).
		ApplyT(func(v interface{}) (GetProtectedResourceV2ResultOutput, error) {
			args := v.(GetProtectedResourceV2Args)
			options := pulumi.InvokeOutputOptions{InvokeOptions: internal.PkgInvokeDefaultOpts(opts)}
			return ctx.InvokeOutput("nutanix:index/getProtectedResourceV2:getProtectedResourceV2", args, GetProtectedResourceV2ResultOutput{}, options).(GetProtectedResourceV2ResultOutput), nil
		}).(GetProtectedResourceV2ResultOutput)
}

// A collection of arguments for invoking getProtectedResourceV2.
type GetProtectedResourceV2OutputArgs struct {
	// -(Required) The external identifier of a protected VM or volume group that can be used to retrieve the protected resource.
	ExtId pulumi.StringInput `pulumi:"extId"`
}

func (GetProtectedResourceV2OutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*GetProtectedResourceV2Args)(nil)).Elem()
}

// A collection of values returned by getProtectedResourceV2.
type GetProtectedResourceV2ResultOutput struct{ *pulumi.OutputState }

func (GetProtectedResourceV2ResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*GetProtectedResourceV2Result)(nil)).Elem()
}

func (o GetProtectedResourceV2ResultOutput) ToGetProtectedResourceV2ResultOutput() GetProtectedResourceV2ResultOutput {
	return o
}

func (o GetProtectedResourceV2ResultOutput) ToGetProtectedResourceV2ResultOutputWithContext(ctx context.Context) GetProtectedResourceV2ResultOutput {
	return o
}

// Category key-value pairs associated with the protected resource at the time of protection. The category key and value are separated by '/'. For example, a category with key 'dept' and value 'hr' will be represented as 'dept/hr'.
func (o GetProtectedResourceV2ResultOutput) CategoryFqNames() pulumi.StringArrayOutput {
	return o.ApplyT(func(v GetProtectedResourceV2Result) []string { return v.CategoryFqNames }).(pulumi.StringArrayOutput)
}

// External identifier of the Consistency group which the protected resource is part of.
func (o GetProtectedResourceV2ResultOutput) ConsistencyGroupExtId() pulumi.StringOutput {
	return o.ApplyT(func(v GetProtectedResourceV2Result) string { return v.ConsistencyGroupExtId }).(pulumi.StringOutput)
}

// The external identifier of the VM or the volume group associated with the protected resource.
func (o GetProtectedResourceV2ResultOutput) EntityExtId() pulumi.StringOutput {
	return o.ApplyT(func(v GetProtectedResourceV2Result) string { return v.EntityExtId }).(pulumi.StringOutput)
}

// Protected resource entity type. Possible values are: VM, VOLUME_GROUP.
func (o GetProtectedResourceV2ResultOutput) EntityType() pulumi.StringOutput {
	return o.ApplyT(func(v GetProtectedResourceV2Result) string { return v.EntityType }).(pulumi.StringOutput)
}

// - The external identifier of a protected VM or volume group that can be used to retrieve the protected resource.
func (o GetProtectedResourceV2ResultOutput) ExtId() pulumi.StringOutput {
	return o.ApplyT(func(v GetProtectedResourceV2Result) string { return v.ExtId }).(pulumi.StringOutput)
}

// The provider-assigned unique ID for this managed resource.
func (o GetProtectedResourceV2ResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v GetProtectedResourceV2Result) string { return v.Id }).(pulumi.StringOutput)
}

// A HATEOAS style link for the response. Each link contains a user-friendly name identifying the link and an address for retrieving the particular resource.
func (o GetProtectedResourceV2ResultOutput) Links() GetProtectedResourceV2LinkArrayOutput {
	return o.ApplyT(func(v GetProtectedResourceV2Result) []GetProtectedResourceV2Link { return v.Links }).(GetProtectedResourceV2LinkArrayOutput)
}

// Replication related information about the protected resource.
func (o GetProtectedResourceV2ResultOutput) ReplicationStates() GetProtectedResourceV2ReplicationStateArrayOutput {
	return o.ApplyT(func(v GetProtectedResourceV2Result) []GetProtectedResourceV2ReplicationState {
		return v.ReplicationStates
	}).(GetProtectedResourceV2ReplicationStateArrayOutput)
}

// The data protection details for the protected resource that are relevant to any of the sites in the local Prism Central, like the time ranges available for recovery.
func (o GetProtectedResourceV2ResultOutput) SiteProtectionInfos() GetProtectedResourceV2SiteProtectionInfoArrayOutput {
	return o.ApplyT(func(v GetProtectedResourceV2Result) []GetProtectedResourceV2SiteProtectionInfo {
		return v.SiteProtectionInfos
	}).(GetProtectedResourceV2SiteProtectionInfoArrayOutput)
}

// Details about the data protection site in the Prism Central.
func (o GetProtectedResourceV2ResultOutput) SourceSiteReferences() GetProtectedResourceV2SourceSiteReferenceArrayOutput {
	return o.ApplyT(func(v GetProtectedResourceV2Result) []GetProtectedResourceV2SourceSiteReference {
		return v.SourceSiteReferences
	}).(GetProtectedResourceV2SourceSiteReferenceArrayOutput)
}

// A globally unique identifier that represents the tenant that owns this entity. The system automatically assigns it, and it and is immutable from an API consumer perspective (some use cases may cause this Id to change - For instance, a use case may require the transfer of ownership of the entity, but these cases are handled automatically on the server).
func (o GetProtectedResourceV2ResultOutput) TenantId() pulumi.StringOutput {
	return o.ApplyT(func(v GetProtectedResourceV2Result) string { return v.TenantId }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterOutputType(GetProtectedResourceV2ResultOutput{})
}
